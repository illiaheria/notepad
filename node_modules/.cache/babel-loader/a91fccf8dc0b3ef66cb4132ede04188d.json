{"ast":null,"code":"export const httpMiddleware = store => next => action => {\n  if (action) {\n    const fetchOption = {\n      method: action.verb,\n      headers: action.headers,\n      body: action.payload\n    };\n    next({\n      type: action.type + '_REQUESTED'\n    });\n\n    if (action.endpoint) {\n      fetch(action.endpoint, fetchOption).then(res => res.json()).then(data => next({\n        type: action.type + '_RECEIVED',\n        payload: data\n      })).catch(error => next({\n        type: action.type + '_FAILED',\n        payload: error.message\n      }));\n    }\n  } else {\n    return next(action);\n  }\n};","map":{"version":3,"sources":["/home/user/notepad/src/utils/actionMiddleware.ts"],"names":["httpMiddleware","store","next","action","fetchOption","method","verb","headers","body","payload","type","endpoint","fetch","then","res","json","data","catch","error","message"],"mappings":"AAGA,OAAO,MAAMA,cAAc,GAAIC,KAAD,IAAiBC,IAAD,IAC5CC,MADgE,IAE7D;AACH,MAAIA,MAAJ,EAAY;AACV,UAAMC,WAAW,GAAG;AAClBC,MAAAA,MAAM,EAAEF,MAAM,CAACG,IADG;AAElBC,MAAAA,OAAO,EAAEJ,MAAM,CAACI,OAFE;AAGlBC,MAAAA,IAAI,EAAEL,MAAM,CAACM;AAHK,KAApB;AAKAP,IAAAA,IAAI,CAAC;AACHQ,MAAAA,IAAI,EAAEP,MAAM,CAACO,IAAP,GAAc;AADjB,KAAD,CAAJ;;AAIA,QAAIP,MAAM,CAACQ,QAAX,EAAqB;AACnBC,MAAAA,KAAK,CAACT,MAAM,CAACQ,QAAR,EAAkBP,WAAlB,CAAL,CACGS,IADH,CACSC,GAAD,IAAcA,GAAG,CAACC,IAAJ,EADtB,EAEGF,IAFH,CAESG,IAAD,IACJd,IAAI,CAAC;AACHQ,QAAAA,IAAI,EAAEP,MAAM,CAACO,IAAP,GAAc,WADjB;AAEHD,QAAAA,OAAO,EAAEO;AAFN,OAAD,CAHR,EAQGC,KARH,CAQUC,KAAD,IACLhB,IAAI,CAAC;AACHQ,QAAAA,IAAI,EAAEP,MAAM,CAACO,IAAP,GAAc,SADjB;AAEHD,QAAAA,OAAO,EAAES,KAAK,CAACC;AAFZ,OAAD,CATR;AAcD;AACF,GA1BD,MA0BO;AACL,WAAOjB,IAAI,CAACC,MAAD,CAAX;AACD;AACF,CAhCM","sourcesContent":["import { Dispatch } from 'redux';\nimport { IAction } from '../models/actionModel';\n\nexport const httpMiddleware = (store: any) => (next: Dispatch) => (\n  action: IAction,\n) => {\n  if (action) {\n    const fetchOption = {\n      method: action.verb,\n      headers: action.headers,\n      body: action.payload,\n    };\n    next({\n      type: action.type + '_REQUESTED',\n    });\n\n    if (action.endpoint) {\n      fetch(action.endpoint, fetchOption)\n        .then((res: any) => res.json())\n        .then((data: any) =>\n          next({\n            type: action.type + '_RECEIVED',\n            payload: data,\n          }),\n        )\n        .catch((error: any) =>\n          next({\n            type: action.type + '_FAILED',\n            payload: error.message,\n          }),\n        );\n    }\n  } else {\n    return next(action);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}